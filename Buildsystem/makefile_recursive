# Oliver Kullmann, 10.4.2005 (Swansea)

SHELL = /bin/sh
.SUFFIXES :

ifndef srcdir

define last-element
$(word $(words $1),$1)
endef

this-makefile := $(call last-element,$(MAKEFILE_LIST))
other-makefiles := $(filter-out $(this-makefile),$(MAKEFILE_LIST))
parent-makefile := $(call last-element,$(other-makefiles))
srcdir := $(shell cd $(dir $(parent-makefile)); pwd)

endif

# the main definition of OKSystem is given in makefile_generic, and should (somehow) be imported from there (the problem however is, that OKBuildsystem is not known without OKSystem);
# at the moment we use cut and paste.
ifndef OKSystem
  ifdef OKSYSTEM
    OKSystem := $(OKSYSTEM)
  else
    $(error Either OKSystem (a make-variable) or OKSYSTEM (an environment-variable) must be defined when calling this makefile!)
  endif
endif

# main definition in makefile_generic cut and paste
OKBuildsystem := $(OKSystem)/Transitional/Buildsystem

export

include $(OKBuildsystem)/makefile_standardgoals.mak

export

include $(OKBuildsystem)/makefile_recursive_noneincluded
