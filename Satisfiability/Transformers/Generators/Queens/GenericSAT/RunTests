#!/bin/bash
set -o errexit
set -o nounset

program="RunTests"
version="0.1.1"


# program1="valgrind -q --exit-on-first-error=yes ./SimTaw_debug"
program1="./SimTaw"
program2="valgrind -q ./SimTaw_debug"
declare -a programs=("${program1}" "${program2}")


for S in "${programs[@]}"; do

  N=1
  result=$(${S} ${N})
  if (( result != 1 )); then
    echo -e "Wrong count with program \"${S} ${N}\"."
    exit 2
  fi
  N=2
  result=$(${S} ${N})
  if (( result != 0 )); then
    echo -e "Wrong count with program \"${S} ${N}\"."
    exit 2
  fi
  N=3
  result=$(${S} ${N})
  if (( result != 0 )); then
    echo -e "Wrong count with program \"${S} ${N}\"."
    exit 2
  fi
  N=4
  result=$(${S} ${N})
  if (( result != 2 )); then
    echo -e "Wrong count with program \"${S} ${N}\"."
    exit 2
  fi

done
